 R←Test_UC_120(stopFlag batchFlag);⎕TRAP;stop;rc;msg;buff;was;tempDir
⍝ Runs "]GetDefaultProject and "]SetDefaultProject"
 ⎕TRAP←(999 'C' '. ⍝ Deliberate error')(0 'N')
 R←T._Failed

 tempDir←##.FilesAndDirs.GetTempSubDir'Git-Tests'
 (⊂'This' 'and that')⎕NPUT tempDir,'/foo.txt'
 (⊂'r←Hello' 'r←''World''')⎕NPUT tempDir,'/Hello.aplf'
 {}⎕SH'git -C "',(##.FilesAndDirs.EnforceSlash tempDir),'" init '

 stop←0
 (rc msg was)←stop ∆UCMD'GetDefaultProject'
 msg Assert rc=0

 (rc msg buff)←stop ∆UCMD'SetDefaultProject ',tempDir
 msg Assert rc=0
 →T.GoToTidyUp 2≠≢buff
 →T.GoToTidyUp 0=≢∊buff∘∘∘

 R←T._OK

∆TidyUp:
 {}∆UCMD'SetDefaultProject ',was
 {}⎕SH'rmdir /s /q "',tempDir,'"'
⍝Done
